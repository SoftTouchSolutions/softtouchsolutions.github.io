import{r as a,j as e}from"./mui-CVeSmhdP.js";import{B as c,T as H,x as q,y as C,z as y,p as U,q as W,r as _,F as J,L as K,I as N,A as x,f as Q,R as o,C as w,g as A,n as M,h as V}from"./index-Cjmwo3Rz.js";import{C as F}from"./CardTitle-_F_6FAAC.js";import{L as X,a as p}from"./ListGroupItem-WZ0nP5DF.js";import"./index.es-CFBudVuy.js";import Y from"./PerformanceCriteria-Boynd9TV.js";import Z from"./PerformanceMetric-k5oMyRX_.js";import $ from"./GoalCategory-DLsKjvs-.js";import"./vendor-CC_ZIGTP.js";import"./utils-ngrFHoWO.js";const ee=()=>{const[s,r]=a.useState(!1),i=()=>r(!s),[d,S]=a.useState([]),[l,v]=a.useState(1),m=3,[b,D]=a.useState({deptname:""}),[P,k]=a.useState({}),[E,j]=a.useState(null),h=async()=>{try{const t=await x.getAllDepartments();S(t||[])}catch(t){console.error("Error fetching departments:",t)}};a.useEffect(()=>{h()},[]);const I=t=>{const{name:n,value:g}=t.target;D(f=>({...f,[n]:g}))},G=async t=>{t.preventDefault();try{await x.createDepartment(b),h(),D({deptname:""}),i()}catch(n){console.error("Error adding department:",n)}},L=t=>{const{name:n,value:g}=t.target;k(f=>({...f,[n]:g}))},R=t=>{j(t.sno),k({deptcode:t.deptcode,deptname:t.deptname})},z=async t=>{t.preventDefault();try{await x.updateDepartment(E,P),h(),j(null)}catch(n){console.error("Error updating department:",n)}},O=async t=>{try{await x.deleteDepartment(t),h()}catch(n){console.error("Error deleting department:",n)}},B=d.slice((l-1)*m,l*m),T=Math.ceil(d.length/m),u=t=>v(t);return e.jsxs("div",{className:"app-container",children:[e.jsx(c,{color:"primary",className:"mb-3",onClick:i,children:"Add New Department"}),e.jsxs(H,{bordered:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Department Code"}),e.jsx("th",{children:"Department Name"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:B.map(t=>e.jsx(a.Fragment,{children:E===t.sno?e.jsx(te,{editFormData:P,handleEditInputChange:L,handleEditFormSubmit:z,handleCancelClick:()=>j(null)}):e.jsx(se,{dept:t,handleEditClick:()=>R(t),handleDeleteClick:O})},t.sno))})]}),e.jsxs(q,{className:"pagination justify-content-end",children:[e.jsx(C,{disabled:l===1,children:e.jsx(y,{onClick:()=>u(l-1),children:"«"})}),[...Array(T)].map((t,n)=>e.jsx(C,{active:l===n+1,children:e.jsx(y,{onClick:()=>u(n+1),children:n+1})},n)),e.jsx(C,{disabled:l===T,children:e.jsx(y,{onClick:()=>u(l+1),children:"»"})})]}),e.jsxs(U,{isOpen:s,toggle:i,children:[e.jsx(W,{toggle:i,children:"Add New Department"}),e.jsx(_,{children:e.jsxs(J,{onSubmit:G,children:[e.jsx(K,{for:"deptname",children:"Department Name"}),e.jsx(N,{type:"text",name:"deptname",value:b.deptname,onChange:I,required:!0}),e.jsx(c,{type:"submit",color:"primary",className:"mt-3",children:"Add"})]})})]})]})},te=({editFormData:s,handleEditInputChange:r,handleEditFormSubmit:i,handleCancelClick:d})=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(N,{type:"text",name:"deptcode",value:s.deptcode,onChange:r,readOnly:!0})}),e.jsx("td",{children:e.jsx(N,{type:"text",name:"deptname",value:s.deptname,onChange:r})}),e.jsxs("td",{children:[e.jsx(c,{size:"sm",color:"success",onClick:i,children:"Update"}),e.jsx(c,{size:"sm",color:"danger",onClick:d,className:"ms-2",children:"Cancel"})]})]}),se=({dept:s,handleEditClick:r,handleDeleteClick:i})=>e.jsxs("tr",{children:[e.jsx("td",{children:s.deptcode}),e.jsx("td",{children:s.deptname}),e.jsxs("td",{children:[e.jsx(c,{size:"sm",color:"warning",onClick:r,className:"me-2",children:"Edit"}),e.jsx(c,{size:"sm",color:"danger",onClick:()=>i(s.sno),children:"Delete"})]})]}),ne=()=>{const[s,r]=a.useState(null),[i,d]=a.useState(null),[S,l]=a.useState(null),[v,m]=a.useState(null);return e.jsxs("div",{children:[e.jsx(o,{children:e.jsx("div",{className:"table-responsive datatble-filter",children:e.jsx(ee,{})})}),e.jsx(o,{})]})},ae=()=>e.jsx("div",{children:e.jsx(o,{children:e.jsx("div",{className:"table-responsive datatble-filter",children:e.jsx(Y,{})})})}),re=()=>e.jsx("div",{children:e.jsx(o,{children:e.jsx("div",{className:"table-responsive datatble-filter",children:e.jsx(Z,{})})})}),ie=()=>e.jsx("div",{children:e.jsx(o,{children:e.jsx("div",{className:"table-responsive datatble-filter",children:e.jsx($,{})})})}),le=()=>e.jsx("div",{children:e.jsx("h4",{children:"Notification Templates"})}),ce=()=>e.jsx("div",{children:e.jsx("h4",{children:"Default Notification Templates"})}),Ce=()=>{const[s,r]=a.useState("generalSettings"),i=()=>{switch(s){case"general-Settings":return e.jsx(ne,{});case"System Configuration":return e.jsx(ae,{});case"Performance Metric":return e.jsx(re,{});case"Goal Category":return e.jsx(ie,{});case"NotificationTemplates":return e.jsx(le,{});case"DefaultNotificationTemplates":return e.jsx(ce,{});default:return e.jsx("div",{children:"Select a setting from the left menu"})}};return e.jsxs("div",{children:[e.jsx(Q,{title:"Settings",home:"Home",name:"Pages",fonticonsname:"Settings"}),e.jsxs(o,{children:[e.jsx(w,{lg:"4",xl:"3",children:e.jsxs(A,{children:[e.jsx(M,{children:e.jsx(F,{tag:"h3",children:"Configuration"})}),e.jsxs(X,{className:"list-group list-group-transparent mb-0 mail-inbox pt-3",children:[e.jsxs(p,{action:!0,active:s==="general Settings",onClick:()=>r("general-Settings"),tag:"a",className:"list-group-item list-group-item-action d-flex align-items-center",children:[e.jsx("i",{className:"fe fe-home fs-20"}),e.jsx("span",{className:"mx-3 mt-1",children:"Department Settings"})]}),e.jsxs(p,{action:!0,active:s==="System Configuration",onClick:()=>r("System Configuration"),tag:"a",className:"list-group-item list-group-item-action d-flex align-items-center",children:[e.jsx("i",{className:"fe fe-grid fs-20"}),e.jsx("span",{className:"mx-3 mt-1",children:"Performance Criteria"})]}),e.jsxs(p,{action:!0,active:s==="Performance Metric",onClick:()=>r("Performance Metric"),tag:"a",className:"list-group-item list-group-item-action d-flex align-items-center",children:[e.jsx("i",{className:"fe fe-server fs-20"}),e.jsx("span",{className:"mx-3 mt-1",children:"Performance Metric"})]}),e.jsxs(p,{action:!0,active:s==="Goal Category",onClick:()=>r("Goal Category"),tag:"a",className:"list-group-item list-group-item-action d-flex align-items-center",children:[e.jsx("i",{className:"fe fe-globe fs-20"}),e.jsx("span",{className:"mx-3 mt-1",children:"Goal Category"})]})]})]})}),e.jsx(w,{lg:"8",xl:"9",children:e.jsxs(A,{children:[e.jsx(M,{className:"d-block",children:e.jsx(F,{tag:"h3",className:"mb-1 mt-3",children:s})}),e.jsx(V,{children:i()})]})})]})]})};export{Ce as default};
