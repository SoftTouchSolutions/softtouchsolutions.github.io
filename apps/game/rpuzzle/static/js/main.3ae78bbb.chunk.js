(this.webpackJsonppuzzle=this.webpackJsonppuzzle||[]).push([[0],{13:function(e,t,i){},14:function(e,t,i){},16:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i.n(n),r=i(8),o=i.n(r),s=(i(13),i.p,i(14),i(2)),c=i(3),d=i(4),h=i(6),u=i(5),l=new(function(){function e(){Object(s.a)(this,e),this.winner=!1,this.validMoves=[[0,1,3],[1,0,2,4],[2,1,5],[3,0,4,6],[4,1,3,5,7],[5,2,4,8],[6,3,7],[7,6,8,4],[8,5,7]],this.BSZ=3,this.BSZ2=9,this.board=[1,4,2,6,0,5,7,3,8],this.vdx=this.zdx=this.find(this.board,0)}return Object(c.a)(e,[{key:"next",value:function(e,t){return e+Math.floor(Math.random()*t)}},{key:"randomizeBoard",value:function(){this.board=[-1,-1,-1,-1,-1,-1,-1,-1,-1];for(var e=0;e<this.BSZ2;e++)for(var t=!1;!t;){var i=this.next(0,this.BSZ2);-1===this.board[i]&&(this.board[i]=e,t=!0)}}},{key:"reset",value:function(){this.winner=!1,this.randomizeBoard()}},{key:"drawBoard",value:function(){for(var e="",t=0;t<this.BSZ;t++){for(var i=0;i<this.BSZ;i++)0===this.board[t*this.BSZ+i]?e+="X":e+=this.board[t*this.BSZ+i];e+="\n"}console.log(e)}},{key:"getText",value:function(){return this.winner?"we have a winner!":this.validChoice()?"Number puzzle":"invalid choice"}},{key:"gameLoop",value:function(){(new e).loop()}},{key:"loop",value:function(){for(;!this.winner;){if(this.drawBoard(),this._c=this.getChoice(),this.zdx=this.find(this.board,0),this.vdx=this.find(this.board,this._c),-1===this._c||!this.validChoice()){console.log("invalid choice");break}this.swapPieces(),this.winner=this.checkWinner(),this.winner&&(this.drawBoard(),console.log("we have a winner!"))}}},{key:"swapPieces",value:function(){this.board[this.zdx]=this.board[this.vdx],this.board[this.vdx]=0}},{key:"validChoice",value:function(){return this.validMoves[this.zdx].includes(this.vdx)}},{key:"getChoice",value:function(){var e=prompt("select a value: ");try{return parseInt(e.trim())}catch(t){return-1}}},{key:"find",value:function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t)return i;return-1}},{key:"gamePlay",value:function(e){this.winner?this.reset():(this.zdx=this.find(this.board,0),this.vdx=e,this.validChoice()?(this.swapPieces(),this.winner=this.checkWinner()):console.log("".concat(this.zdx," invalid choice ").concat(e)))}},{key:"checkWinner",value:function(){if(0!==this.board[0]&&1!==this.board[0]||0!==this.board[this.BSZ2-1]&&8!=this.board[this.BSZ2-1])return!1;for(var e=0;e<this.BSZ2;e++)if(e>0&&e<this.BSZ2-1&&0!==this.board[e]&&e>1&&(0===this.board[e-1]?this.board[e]<this.board[e-2]:this.board[e]<this.board[e-1]))return!1;return!0}}]),e}()),v=i(0),b=function(e){Object(h.a)(i,e);var t=Object(u.a)(i);function i(){var e;Object(s.a)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).bspace=function(){var t=e.id!=e.ttt.vdx||e.ttt.validChoice()?"usepink":"usered";return t=e.ttt.winner?"usegreen":t,"boardspace "+(t=0==e.ttt.board[e.id]?"usewhite":t)},e.handle=function(){e.setState({id:1}),e.ttt.gamePlay(e.id),e.props.build()},e}return Object(c.a)(i,[{key:"render",value:function(){this.ttt=this.props.componentData.component,this.id=this.props.componentData.id;var e=this.props.componentData,t=e.component,i=e.id;return Object(v.jsx)("div",{className:this.bspace(),onClick:this.handle,children:Object(v.jsx)("div",{className:"btext",children:t.board[i]})})}}]),i}(n.Component),f=function(e){Object(h.a)(i,e);var t=Object(u.a)(i);function i(){var e;return Object(s.a)(this,i),(e=t.call(this)).state={data:Array(9).fill(1).map((function(e,t){return{component:l,id:t}}))},e.myEfficientFn=p((function(t){if(e.ec++,e.ec<2)e.build();else{e.ec=0,console.log(t.key);var i=l.find(l.board,0);switch(t.key){case"ArrowUp":i-3>-1&&l.gamePlay(i-3);break;case"ArrowDown":i+3<9&&l.gamePlay(i+3);break;case"ArrowLeft":i-1>-1&&l.gamePlay(i-1);break;case"ArrowRight":i+1<9&&l.gamePlay(i+1);break;default:console.log("I have never heard of that...",t.key)}e.build()}}),400,!0),e.build=function(){e.forceUpdate()},e.handleKeyPress=function(e){console.log(e.key)},document.body.addEventListener("keyup",e.myEfficientFn),p=p.bind(Object(d.a)(e)),e.ec=0,e}return Object(c.a)(i,[{key:"keyPressHandler",value:function(){var e=!1;console.log("key event handler added"),document.body.addEventListener("keydown",(function(t){var i=t.keyCode||t.charCode||0;-1!==[91,93,224,17].indexOf(i)&&(e=!0),console.log("CMD DOWN: "+e.toString(),t.key)})),document.body.addEventListener("keyup",(function(t){var i=t.keyCode||t.charCode||0;-1!==[91,93,224,17].indexOf(i)&&(e=!1),console.log("CMD DOWN: "+e.toString(),t.key)}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"main-board",children:[Object(v.jsx)("h3",{children:l.getText()}),Object(v.jsx)("div",{className:"grid-container",children:this.state.data.map((function(t,i){return Object(v.jsx)(b,{build:e.build,componentData:t},i)}))})]})}}]),i}(n.Component);function p(e,t,i){var n;return function(){var a=this,r=arguments,o=function(){n=null,i||e.apply(a,r)},s=i&&!n;clearTimeout(n),n=setTimeout(o,t),s&&e.apply(a,r)}}var y=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)("header",{className:"App-header",children:Object(v.jsx)(f,{})})})},k=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;i(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(y,{})}),document.getElementById("root")),k()}},[[16,1,2]]]);
//# sourceMappingURL=main.3ae78bbb.chunk.js.map